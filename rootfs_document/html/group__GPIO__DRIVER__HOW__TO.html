<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>cit200: GPIO Driver How to</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>GPIO Driver How to<br>
<small>
[<a class="el" href="group__HOWTO.html">HOWTO</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#g5c2d9d80dfb5ce81d5aebc0e619efdd0">RDY_LED_ON</a>&nbsp;&nbsp;&nbsp;0x5506</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#g01874d469540d65afe670745cea7de74">RDY_LED_OFF</a>&nbsp;&nbsp;&nbsp;0x5507</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#gde470dd43b63132015ef6076f530895d">SCAN1D_LED_ON</a>&nbsp;&nbsp;&nbsp;0x5518</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#gc87a80bb8d206bf5f7c1154c84db884d">SCAN1D_LED_OFF</a>&nbsp;&nbsp;&nbsp;0x5517</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#g8279e48997ecb0998175ad16721924a5">SET_GATEOUT1_HIGH</a>&nbsp;&nbsp;&nbsp;0x5519</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#g600eb52eadb1492193345e2733441b6d">SET_GATEOUT1_LOW</a>&nbsp;&nbsp;&nbsp;0x5520</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#g3769a699089bef855fa5726b8a900315">SET_GATEOUT2_HIGH</a>&nbsp;&nbsp;&nbsp;0x5521</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#g6a337568e7973756a49caa300e4d1894">SET_GATEOUT2_LOW</a>&nbsp;&nbsp;&nbsp;0x5522</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#g150813a6caaea9bb4a807211aa4e735e">GET_GATEIN3_VALUE</a>&nbsp;&nbsp;&nbsp;0x5523</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#gad2ecf03f5c5751351297f8a627c0ce0">GET_GATEIN4_VALUE</a>&nbsp;&nbsp;&nbsp;0x5524</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#g72888b08bc4e549e34532bd891bacb32">SET_5V_POWER_HIGH</a>&nbsp;&nbsp;&nbsp;0x5525</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#g9a532e887fed115266a1d43c2273178e">SET_5V_POWER_LOW</a>&nbsp;&nbsp;&nbsp;0x5526</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#g14c16dd4f73c71d580cfd9baf457cfab">SET_GPRS_ON</a>&nbsp;&nbsp;&nbsp;0x5527</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#g821c3dacec3edbda21a3e0f6ad01037c">SET_GPRS_OFF</a>&nbsp;&nbsp;&nbsp;0x5528</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#g4b88b4f73d4a6becc39f2fd4e766e294">eddy_gpio_open</a> (struct inode *inode, struct file *file_p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">open file node  <a href="#g4b88b4f73d4a6becc39f2fd4e766e294"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#g1fe2a655511385c444007c0689cd78e9">eddy_gpio_release</a> (struct inode *inode, struct file *file_p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">open file node  <a href="#g1fe2a655511385c444007c0689cd78e9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GPIO__DRIVER__HOW__TO.html#g518c0585902efe401f1d1f94a47157b1">eddy_gpio_ioctl</a> (struct inode *inode, struct file *flip, unsigned int command, unsigned long arg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ioctl  <a href="#g518c0585902efe401f1d1f94a47157b1"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<div class="fragment"><pre class="fragment">
Cit200 gpio driver provide a way to control gpio from userspace. The driver support open,close,ioctl function.
Gate1：Eddy GPIO 1/Output                             GPIO1--&gt;PC16 (offset:1)
Gate2：Eddy GPIO 2/Output                             GPIO2--&gt;PC17 (offset:1)
Gate3：Eddy GPIO 5/Input                              GPIO5--&gt;PC20 (offset:5)
Gate4：Eddy GPIO 7/Input                              GPIO7--&gt;PC22 (offset:7)
NQ201 whitelight(only for nQuire 201)                 GPIO11 --&gt; PC26(offset:11)
      High level disable ; Low level enable  

Peripheral power(usb,wifi,2027,GPRS,lcd-backlight)    PID1  --&gt; PC7 (offset:18)
      High level enable ;  Low level disable
RDY: LCD's Backlight                                  RDY--&gt;PC4
You need create the device file node 
#mknod  /dev/gpio c 99 0
   </pre></div> <hr><h2>Define Documentation</h2>
<a class="anchor" name="g5c2d9d80dfb5ce81d5aebc0e619efdd0"></a><!-- doxytag: member="gpio-driver.c::RDY_LED_ON" ref="g5c2d9d80dfb5ce81d5aebc0e619efdd0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RDY_LED_ON&nbsp;&nbsp;&nbsp;0x5506          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="g01874d469540d65afe670745cea7de74"></a><!-- doxytag: member="gpio-driver.c::RDY_LED_OFF" ref="g01874d469540d65afe670745cea7de74" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RDY_LED_OFF&nbsp;&nbsp;&nbsp;0x5507          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="gde470dd43b63132015ef6076f530895d"></a><!-- doxytag: member="gpio-driver.c::SCAN1D_LED_ON" ref="gde470dd43b63132015ef6076f530895d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCAN1D_LED_ON&nbsp;&nbsp;&nbsp;0x5518          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="gc87a80bb8d206bf5f7c1154c84db884d"></a><!-- doxytag: member="gpio-driver.c::SCAN1D_LED_OFF" ref="gc87a80bb8d206bf5f7c1154c84db884d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCAN1D_LED_OFF&nbsp;&nbsp;&nbsp;0x5517          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="g8279e48997ecb0998175ad16721924a5"></a><!-- doxytag: member="gpio-driver.c::SET_GATEOUT1_HIGH" ref="g8279e48997ecb0998175ad16721924a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_GATEOUT1_HIGH&nbsp;&nbsp;&nbsp;0x5519          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="g600eb52eadb1492193345e2733441b6d"></a><!-- doxytag: member="gpio-driver.c::SET_GATEOUT1_LOW" ref="g600eb52eadb1492193345e2733441b6d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_GATEOUT1_LOW&nbsp;&nbsp;&nbsp;0x5520          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="g3769a699089bef855fa5726b8a900315"></a><!-- doxytag: member="gpio-driver.c::SET_GATEOUT2_HIGH" ref="g3769a699089bef855fa5726b8a900315" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_GATEOUT2_HIGH&nbsp;&nbsp;&nbsp;0x5521          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="g6a337568e7973756a49caa300e4d1894"></a><!-- doxytag: member="gpio-driver.c::SET_GATEOUT2_LOW" ref="g6a337568e7973756a49caa300e4d1894" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_GATEOUT2_LOW&nbsp;&nbsp;&nbsp;0x5522          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="g150813a6caaea9bb4a807211aa4e735e"></a><!-- doxytag: member="gpio-driver.c::GET_GATEIN3_VALUE" ref="g150813a6caaea9bb4a807211aa4e735e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GET_GATEIN3_VALUE&nbsp;&nbsp;&nbsp;0x5523          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="gad2ecf03f5c5751351297f8a627c0ce0"></a><!-- doxytag: member="gpio-driver.c::GET_GATEIN4_VALUE" ref="gad2ecf03f5c5751351297f8a627c0ce0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GET_GATEIN4_VALUE&nbsp;&nbsp;&nbsp;0x5524          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="g72888b08bc4e549e34532bd891bacb32"></a><!-- doxytag: member="gpio-driver.c::SET_5V_POWER_HIGH" ref="g72888b08bc4e549e34532bd891bacb32" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_5V_POWER_HIGH&nbsp;&nbsp;&nbsp;0x5525          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="g9a532e887fed115266a1d43c2273178e"></a><!-- doxytag: member="gpio-driver.c::SET_5V_POWER_LOW" ref="g9a532e887fed115266a1d43c2273178e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_5V_POWER_LOW&nbsp;&nbsp;&nbsp;0x5526          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="g14c16dd4f73c71d580cfd9baf457cfab"></a><!-- doxytag: member="gpio-driver.c::SET_GPRS_ON" ref="g14c16dd4f73c71d580cfd9baf457cfab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_GPRS_ON&nbsp;&nbsp;&nbsp;0x5527          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="g821c3dacec3edbda21a3e0f6ad01037c"></a><!-- doxytag: member="gpio-driver.c::SET_GPRS_OFF" ref="g821c3dacec3edbda21a3e0f6ad01037c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_GPRS_OFF&nbsp;&nbsp;&nbsp;0x5528          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g4b88b4f73d4a6becc39f2fd4e766e294"></a><!-- doxytag: member="gpio-driver.c::eddy_gpio_open" ref="g4b88b4f73d4a6becc39f2fd4e766e294" args="(struct inode *inode, struct file *file_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int eddy_gpio_open           </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
open file node 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>inode</em>&nbsp;</td><td>struct inode * </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>file_p</em>&nbsp;</td><td>struct file * </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>int 0 </dd></dl>

</div>
</div><p>
<a class="anchor" name="g1fe2a655511385c444007c0689cd78e9"></a><!-- doxytag: member="gpio-driver.c::eddy_gpio_release" ref="g1fe2a655511385c444007c0689cd78e9" args="(struct inode *inode, struct file *file_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int eddy_gpio_release           </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
open file node 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>inode</em>&nbsp;</td><td>struct inode * </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>file_p</em>&nbsp;</td><td>struct file * </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>int 0 </dd></dl>

</div>
</div><p>
<a class="anchor" name="g518c0585902efe401f1d1f94a47157b1"></a><!-- doxytag: member="gpio-driver.c::eddy_gpio_ioctl" ref="g518c0585902efe401f1d1f94a47157b1" args="(struct inode *inode, struct file *flip, unsigned int command, unsigned long arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int eddy_gpio_ioctl           </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>flip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
ioctl 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>inode</em>&nbsp;</td><td>struct inode * </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>flip</em>&nbsp;</td><td>struct file * </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>command</em>&nbsp;</td><td><ul>
<li>0x5506 ready led on</li><li>0x5507 ready led off</li><li>0x5518 scan 1d led on</li><li>0x5517 scan 1d led off</li><li>0x5519 gateout1 high</li><li>0x5520 gateout1 low</li><li>0x5521 gateout2 high</li><li>0x5522 gateout3 low</li><li>0x5523 gatein3 value</li><li>0x5524 gatein4 value</li><li>0x5525 5v power high</li><li>0x5526 5v power low</li><li>0x5527 gprs on</li><li>0x5528 gprs off </li></ul>
</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>arg</em>&nbsp;</td><td>parameter pass from userspace </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>int<ul>
<li>&lt;0: erro</li><li>&gt;0: success</li></ul>
</dd></dl>
<ul>
<li>Example: <div class="fragment"><pre class="fragment"><span class="preprocessor">#define RDY_LED_ON          0x5506  </span><span class="comment">/* Ready LED on */</span>
<span class="preprocessor">#define RDY_LED_OFF         0x5507  </span><span class="comment">/* Ready LED off */</span>
<span class="preprocessor">#define SCAN1D_LED_ON         0x5518</span>
<span class="preprocessor"></span><span class="preprocessor">#define SCAN1D_LED_OFF        0x5517</span>
<span class="preprocessor"></span>
<span class="preprocessor">#define SET_GATEOUT1_HIGH     0x5519</span>
<span class="preprocessor"></span><span class="preprocessor">#define SET_GATEOUT1_LOW      0x5520</span>
<span class="preprocessor"></span>
<span class="preprocessor">#define SET_GATEOUT2_HIGH     0x5521</span>
<span class="preprocessor"></span><span class="preprocessor">#define SET_GATEOUT2_LOW      0x5522</span>
<span class="preprocessor"></span>
<span class="preprocessor">#define GET_GATEIN3_VALUE     0x5523</span>
<span class="preprocessor"></span><span class="preprocessor">#define GET_GATEIN4_VALUE     0x5524</span>
<span class="preprocessor"></span>
<span class="preprocessor">#define SET_5V_POWER_HIGH       0x5525</span>
<span class="preprocessor"></span><span class="preprocessor">#define SET_5V_POWER_LOW       0x5526</span>
<span class="preprocessor"></span>
<span class="preprocessor">#define SET_GPRS_ON           0x5527</span>
<span class="preprocessor"></span><span class="preprocessor">#define SET_GPRS_OFF           0x5528</span>
<span class="preprocessor"></span><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc,<span class="keywordtype">char</span> *argv[])
{
   <span class="keywordtype">int</span> fd,result,i;
   <span class="keywordtype">char</span> string;
   fd = <a class="code" href="group__KERNEL__BUZZER.html#gb97f58472981847c31f85a68b1a4a24b" title="open device">open</a>(<span class="stringliteral">"/dev/gpio"</span>, O_RDWR);
   <span class="keywordflow">if</span> (fd &lt; 0){ 
      printf(<span class="stringliteral">"open dev fail !\n"</span>);
      <span class="keywordflow">return</span> -1;
   }

   <a class="code" href="group__KERNEL__BUZZER.html#g8c62adf876da67271b59f52913fa8aeb" title="control device">ioctl</a>(fd, <a class="code" href="group__GPIO__DRIVER__HOW__TO.html#g5c2d9d80dfb5ce81d5aebc0e619efdd0">RDY_LED_ON</a>, 0);   <span class="comment">//set LED back light on</span>
   <a class="code" href="group__KERNEL__BUZZER.html#g8c62adf876da67271b59f52913fa8aeb" title="control device">ioctl</a>(fd, <a class="code" href="group__GPIO__DRIVER__HOW__TO.html#g01874d469540d65afe670745cea7de74">RDY_LED_OFF</a>,0);   <span class="comment">// set LED back light off</span>

   <a class="code" href="group__KERNEL__BUZZER.html#g8c62adf876da67271b59f52913fa8aeb" title="control device">ioctl</a>(fd, <a class="code" href="group__GPIO__DRIVER__HOW__TO.html#g72888b08bc4e549e34532bd891bacb32">SET_5V_POWER_HIGH</a>, 0);  <span class="comment">//set 5v power up</span>
   <a class="code" href="group__KERNEL__BUZZER.html#g8c62adf876da67271b59f52913fa8aeb" title="control device">ioctl</a>(fd, <a class="code" href="group__GPIO__DRIVER__HOW__TO.html#g9a532e887fed115266a1d43c2273178e">SET_5V_POWER_LOW</a>,0);   <span class="comment">//set 5v power down</span>

   <a class="code" href="group__KERNEL__BUZZER.html#g8c62adf876da67271b59f52913fa8aeb" title="control device">ioctl</a>(fd, <a class="code" href="group__GPIO__DRIVER__HOW__TO.html#gde470dd43b63132015ef6076f530895d">SCAN1D_LED_ON</a>, 0);   <span class="comment">// set 1D scanner led on</span>
   <a class="code" href="group__KERNEL__BUZZER.html#g8c62adf876da67271b59f52913fa8aeb" title="control device">ioctl</a>(fd, <a class="code" href="group__GPIO__DRIVER__HOW__TO.html#gc87a80bb8d206bf5f7c1154c84db884d">SCAN1D_LED_OFF</a>,0);      <span class="comment">//set 1D scanner led off</span>

   <a class="code" href="group__KERNEL__BUZZER.html#g8c62adf876da67271b59f52913fa8aeb" title="control device">ioctl</a>(fd, <a class="code" href="group__GPIO__DRIVER__HOW__TO.html#g8279e48997ecb0998175ad16721924a5">SET_GATEOUT1_HIGH</a>, 0);  <span class="comment">//gate1 output high</span>
   <a class="code" href="group__KERNEL__BUZZER.html#g8c62adf876da67271b59f52913fa8aeb" title="control device">ioctl</a>(fd, <a class="code" href="group__GPIO__DRIVER__HOW__TO.html#g600eb52eadb1492193345e2733441b6d">SET_GATEOUT1_LOW</a>, 0);  <span class="comment">//gate1 output low</span>

   <a class="code" href="group__KERNEL__BUZZER.html#g8c62adf876da67271b59f52913fa8aeb" title="control device">ioctl</a>(fd, <a class="code" href="group__GPIO__DRIVER__HOW__TO.html#g3769a699089bef855fa5726b8a900315">SET_GATEOUT2_HIGH</a>, 0);  <span class="comment">//gate2 output high</span>
   <a class="code" href="group__KERNEL__BUZZER.html#g8c62adf876da67271b59f52913fa8aeb" title="control device">ioctl</a>(fd, <a class="code" href="group__GPIO__DRIVER__HOW__TO.html#g6a337568e7973756a49caa300e4d1894">SET_GATEOUT2_LOW</a>, 0);  <span class="comment">//gate2 output low</span>

   <a class="code" href="group__KERNEL__BUZZER.html#g8c62adf876da67271b59f52913fa8aeb" title="control device">ioctl</a>(fd, <a class="code" href="group__GPIO__DRIVER__HOW__TO.html#g150813a6caaea9bb4a807211aa4e735e">GET_GATEIN3_VALUE</a>, &amp;result); <span class="comment">// get gate3 in value</span>
   <a class="code" href="group__KERNEL__BUZZER.html#g8c62adf876da67271b59f52913fa8aeb" title="control device">ioctl</a>(fd, <a class="code" href="group__GPIO__DRIVER__HOW__TO.html#gad2ecf03f5c5751351297f8a627c0ce0">GET_GATEIN4_VALUE</a>, &amp;result); <span class="comment">// get gate4 in value</span>

   <a class="code" href="group__KERNEL__BUZZER.html#g8c62adf876da67271b59f52913fa8aeb" title="control device">ioctl</a>(fd, <a class="code" href="group__GPIO__DRIVER__HOW__TO.html#g14c16dd4f73c71d580cfd9baf457cfab">SET_GPRS_ON</a>, 0);       <span class="comment">//set gprs on</span>
   <a class="code" href="group__KERNEL__BUZZER.html#g8c62adf876da67271b59f52913fa8aeb" title="control device">ioctl</a>(fd, <a class="code" href="group__GPIO__DRIVER__HOW__TO.html#g821c3dacec3edbda21a3e0f6ad01037c">SET_GPRS_OFF</a>,0);       <span class="comment">//set gprs off</span>

   Close(fd);
   <span class="keywordflow">return</span> 0;
}
</pre></div> </li></ul>

</div>
</div><p>
</div>
<br><p align="center"><font color="#0080ff">CHINA. FuJian Newland Computer CO., Ltd</font></p>
<p align="center"><font color="#0080ff">Resource management platform - technology r&d center - software development</font></p>
